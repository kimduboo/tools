<!doctype html>
<html lang="ko" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë§Œë‚˜ì´(ìƒí™œì—°ë ¹) ê³„ì‚°ê¸° | íˆ´ì„œë</title>
  <meta name="description" content="ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ë©´ KST ê¸°ì¤€ìœ¼ë¡œ ë§Œë‚˜ì´(ìƒí™œì—°ë ¹)ë¥¼ ì¦‰ì‹œ ê³„ì‚°í•©ë‹ˆë‹¤. ë‹¤ìŒ ìƒì¼ê¹Œì§€ Dâ€‘Day, ì‚´ì•„ì˜¨ ë‚ , ê°œì›”ìˆ˜ í‘œê¸°(ì˜ˆ: 49ê°œì›” / 4ì„¸ 1ê°œì›” / 4;1) ì œê³µ." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect rx='18' width='100' height='100' fill='%23e8efff'/%3E%3Ctext x='50' y='62' font-size='50' text-anchor='middle' fill='%232563eb'%3EğŸ‚%3C/text%3E%3C/svg%3E"/>

  <!-- (ì„ íƒ) AdSense ì „ì—­ ìŠ¤ë‹ˆí«: ìŠ¹ì¸ í›„ ì£¼ì„ í•´ì œí•˜ê³  client êµì²´í•˜ë©´ ì „ì²´ í˜ì´ì§€ ìë™ ê´‘ê³  ë™ì‘ -->
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6022794906780783"anonymous"></script>
 

  <style>
    /* THEME TOKENS (light only) */
    :root{
      --bg:#f7f9fd; --panel:#ffffff; --line:#e6eaf2; --ink:#1f2a37; --muted:#6b7280; --acc:#2563eb; --ok:#16a34a; --warn:#f59e0b;
      --chip:#f3f6ff; --ads:#ffffff; --ads-border:#e6eaf2; --shadow:0 10px 22px rgba(2,8,23,.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;color:var(--ink);background:
      radial-gradient(1000px 500px at 80% -10%, #dbeafe 0%, transparent 60%), var(--bg);
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Apple SD Gothic Neo,sans-serif}
    .wrap{max-width:960px;margin:0 auto;padding:24px}

    header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:6px 0 18px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{width:44px;height:44px;display:grid;place-items:center;background:linear-gradient(135deg,#60a5fa,#2563eb);border-radius:14px;box-shadow:0 6px 18px rgba(37,99,235,.25);font-weight:900;color:#fff}
    .title h1{margin:0;font-size:clamp(20px,3vw,28px)}
    .title p{margin:4px 0 0; color:var(--muted); font-size:14px}

    main{display:grid; grid-template-columns: 1.2fr 0.8fr; gap:24px}
    @media (max-width: 860px){ main{grid-template-columns:1fr} }

    .card{background:var(--panel);border:1px solid var(--line);border-radius:20px;box-shadow:var(--shadow);padding:20px}
    .card h2{margin:0 0 12px;font-size:18px}

    .field{display:flex;flex-direction:column;gap:10px;margin:12px 0}
    label{font-weight:700}
    input[type="date"]{background:#fff;color:var(--ink);border:2px solid var(--line);border-radius:14px;padding:18px 16px;outline:none;font-size:20px}
    input[type="date"]:focus{border-color:var(--acc);box-shadow:0 0 0 4px rgba(37,99,235,.15)}

    .row{display:flex;gap:12px}
    .row>*{flex:1}

    .btn{display:inline-grid;place-items:center;padding:12px 14px;border-radius:12px;border:1px solid var(--line);background:#fff;color:var(--ink);cursor:pointer;font-weight:700;font-size:14px}
    .btn:hover{filter:brightness(1.05)}
    .btn.small{padding:6px 8px;border-radius:10px;font-size:12px}
    .btn.primary{background:linear-gradient(135deg,#60a5fa,#2563eb);border-color:#2563eb;color:#fff}

    .result{display:grid;gap:12px}
    .meter{display:flex;gap:8px;align-items:center}
    .meter .dot{width:10px;height:10px;border-radius:50%;background:var(--ok)}
    .flex{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
    .bigage{font-size:clamp(42px,8vw,72px);font-weight:900;letter-spacing:-1px}
    .muted{color:var(--muted)}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .kpi{background:#fff;border:1px dashed var(--line);border-radius:16px;padding:14px}
    .kpi b{display:block;font-size:20px;margin-top:4px}

    .ads{display:grid;place-items:center;height:140px;border:1px dashed var(--ads-border);border-radius:14px;color:#7b8bbd;font-size:13px;margin:4px 0 18px;background:var(--ads)}

    footer{margin:24px 0 0;color:var(--muted);font-size:13px}
    .hl{color:#059669}
    .notice{background:#fff;border:1px solid var(--line);border-radius:14px;padding:12px;font-size:13px}
    .copyable{user-select:all}
    .back{color:var(--acc);text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">TS</div>
        <div class="title">
          <h1>ë§Œë‚˜ì´(ìƒí™œì—°ë ¹) ê³„ì‚°ê¸°</h1>
          <p>'ê°œì›”ìˆ˜' 'ì—°;ì›”' í‘œê¸° ì œê³µ</p>
        </div>
      </div>
      <nav>
        <a href="/" class="back" aria-label="í™ˆìœ¼ë¡œ">â† íˆ´ì„œë í™ˆ</a>
        <a href="#" id="shareLink" class="btn" aria-label="í˜„ì¬ ê²°ê³¼ ë§í¬ ë³µì‚¬" style="margin-left:10px">ğŸ”— ë§í¬ë³µì‚¬</a>
      </nav>
    </header>

    <main>
      <section class="card" aria-labelledby="calcTitle">
        <h2 id="calcTitle">ì…ë ¥</h2>
        <div class="field">
          <label for="dob">ìƒë…„ì›”ì¼</label>
          <input id="dob" type="date" inputmode="numeric" placeholder="YYYY-MM-DD" required />
        </div>
        <div class="row" style="margin-top:8px">
          <button id="calcBtn" class="btn primary" aria-label="ë§Œë‚˜ì´ ê³„ì‚°í•˜ê¸°">ê³„ì‚°í•˜ê¸°</button>
          <button id="resetBtn" class="btn" aria-label="ì…ë ¥ ì´ˆê¸°í™”">ì´ˆê¸°í™”</button>
        </div>

        <div style="margin-top:16px" class="notice" role="note">
          ğŸ“Œ 2023-06-28ë¶€í„° êµ­ë‚´ ê³µê³µÂ·ì¼ë°˜ ì˜ì—­ì—ì„œ êµ­ì œ í‘œì¤€ <b>ë§Œë‚˜ì´</b>ê°€ ê³µì‹ ì‚¬ìš©ë©ë‹ˆë‹¤.(ê¸°ì¤€ ì‹œê°„ëŒ€: KST)
        </div>

        <div style="margin-top:18px" class="ads" aria-label="ê´‘ê³ ì˜ì—­">
          <!-- ë°˜ì‘í˜• ê´‘ê³  ë‹¨ìœ„ ìœ„ì¹˜ ì˜ˆì‹œ -->
          <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6022794906780783"
          crossorigin="anonymous"></script>
     <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6022794906780783"
          data-ad-slot="8339091148"></ins>
     <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
     </script>
        </div>
      </section>

      <section class="card" aria-labelledby="resultTitle">
        <h2 id="resultTitle">ê²°ê³¼</h2>
        <div class="result">
          <div class="meter"><span class="dot"></span><span class="muted" id="nowKst">ê¸°ì¤€ ì‹œê°: -</span></div>

          <div class="flex">
            <div class="bigage copyable" id="ageMain" aria-live="polite">ë§Œ - ì„¸</div>
            <button class="btn small" id="copyAge" aria-label="ë§Œë‚˜ì´ ë³µì‚¬">ë³µì‚¬</button>
          </div>
          <div class="muted" id="ageDetail">ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>

          <div class="grid" style="margin-top:8px">
            <div class="kpi"><span class="muted">ë‹¤ìŒ ìƒì¼ê¹Œì§€</span><b id="dday">-ì¼</b></div>
            <div class="kpi"><span class="muted">ì‚´ì•„ì˜¨ ë‚ </span><b id="lived">-ì¼</b></div>
          </div>

          <div class="card" style="margin-top:12px">
            <h2 style="font-size:16px; margin:0 0 8px">ê°œì›”ìˆ˜ í‘œê¸°</h2>
            <div class="flex">
              <div class="copyable" id="ageMonths" style="font-weight:800; font-size:20px">-ê°œì›”</div>
              <button class="btn small" id="copyMonths" aria-label="ê°œì›”ìˆ˜ ë³µì‚¬">ë³µì‚¬</button>
            </div>
            <div class="flex">
              <div class="copyable" id="ageYearMonth">-ì„¸ -ê°œì›”</div>
              <button class="btn small" id="copyYearMonth" aria-label="ì„¸ ê°œì›” í‘œê¸° ë³µì‚¬">ë³µì‚¬</button>
            </div>
            <div class="flex">
              <div class="copyable" id="ageSemicolon">-;-</div>
              <button class="btn small" id="copySemicolon" aria-label="ì„¸ë¯¸ì½œë¡  í‘œê¸° ë³µì‚¬">ë³µì‚¬</button>
            </div>
          </div>

          <div class="ads" aria-label="ê´‘ê³ ì˜ì—­" style="margin-top:12px">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6022794906780783"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-6022794906780783"
     data-ad-slot="8339091148"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
          </div>
          <div class="muted" style="font-size:12px">â€» ì°¸ê³ ìš© ì •ë³´ì…ë‹ˆë‹¤. ë²•ì Â·ì˜í•™ì  íŒë‹¨ì´ í•„ìš”í•œ ê²½ìš° ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”.</div>
        </div>
      </section>
    </main>

    <footer>
      <p>Â© <span id="year"></span> íˆ´ì„œë</p>
    </footer>
  </div>

  <script>
    // ê³ ì • ê¸°ì¤€ ì‹œê°„ëŒ€
    const KST = 'Asia/Seoul';
    const fmt = new Intl.DateTimeFormat('ko-KR', { timeZone: KST, year:'numeric', month:'2-digit', day:'2-digit', hour:'2-digit', minute:'2-digit' });

    function toZonedYMD(dateLike){
      const d=new Date(dateLike);
      const f=new Intl.DateTimeFormat('en-CA', { timeZone: KST, year:'numeric', month:'2-digit', day:'2-digit' });
      const [y,m,da]=f.format(d).split('-').map(Number);
      return { y, m, d:da };
    }

    function readQuery(){
      const u=new URL(location.href); const q=u.searchParams; return { dob:q.get('dob')||'' };
    }
    function writeQuery(dob){
      const u=new URL(location.href); const p=u.searchParams; dob? p.set('dob',dob): p.delete('dob'); history.replaceState(null,'',u.toString());
    }

    function calcAge(dobStr, now=new Date()){
      if(!/^\d{4}-\d{2}-\d{2}$/.test(dobStr)) return null;
      const [by,bm,bd]=dobStr.split('-').map(Number);
      const {y:cy, m:cm, d:cd}=toZonedYMD(now);

      // ë§Œë‚˜ì´(ì—°)
      let years = cy - by;
      if(cm < bm || (cm === bm && cd < bd)) years -= 1;

      // ì „ì²´ ê°œì›”ìˆ˜(ë§Œ ê°œì›”): ìƒì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì›” ë‹¨ìœ„ ê²½ê³„ ì²˜ë¦¬
      let months = (cy - by) * 12 + (cm - bm);
      if (cd < bd) months -= 1; // ì•„ì§ ê·¸ ë‹¬ì˜ ìƒì¼ì´ ì•ˆ ì§€ë‚œ ê²½ìš° í•œ ë‹¬ ë¹¼ê¸°
      if (months < 0) months = 0;

      const yPart = Math.floor(months / 12);
      const mPart = months % 12;

      // ë‹¤ìŒ ìƒì¼ê¹Œì§€
      let nextY = cy;
      if (cm > bm || (cm === bm && cd >= bd)) nextY = cy + 1;
      const nextBirthdayUTC = new Date(Date.UTC(nextY, bm-1, bd));
      const todayUTC = new Date(Date.UTC(cy, cm-1, cd));
      const daysToNext = Math.ceil((nextBirthdayUTC - todayUTC)/86400000);

      // ì‚´ì•„ì˜¨ ë‚ 
      const birthUTC = new Date(Date.UTC(by, bm-1, bd));
      const daysLived = Math.floor((todayUTC - birthUTC)/86400000);

      return { years, months, yPart, mPart, daysToNext, daysLived };
    }

    function setNow(){
      document.getElementById('nowKst').textContent = `ê¸°ì¤€ ì‹œê°: ${fmt.format(new Date())} (KST)`;
    }

    function render(dob){
      const r = calcAge(dob);
      if(!r){ alert('ìƒë…„ì›”ì¼ì„ YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš”.'); return; }
      const {years, months, yPart, mPart, daysToNext, daysLived} = r;
      document.getElementById('ageMain').textContent = `ë§Œ ${years}ì„¸`;
      document.getElementById('ageDetail').textContent = `${dob} ê¸°ì¤€, í˜„ì¬ ì‹œì (KST)ì—ì„œ ê³„ì‚°ë˜ì—ˆìŠµë‹ˆë‹¤.`;
      document.getElementById('dday').textContent = daysToNext >= 0 ? `${daysToNext}ì¼` : '-';
      document.getElementById('lived').textContent = `${daysLived.toLocaleString('ko-KR')}ì¼`;

      // ê°œì›”ìˆ˜ í‘œê¸°ë“¤
      document.getElementById('ageMonths').textContent = `${months}ê°œì›”`;
      document.getElementById('ageYearMonth').textContent = `${yPart}ì„¸ ${mPart}ê°œì›”`;
      document.getElementById('ageSemicolon').textContent = `${yPart};${mPart}`;

      writeQuery(dob);
    }

    function copyText(id){
      const el=document.getElementById(id);
      const txt=el.textContent.trim();
      navigator.clipboard.writeText(txt).then(()=>{
        const btnId = (
          id==='ageMain' ? 'copyAge' :
          id==='ageMonths' ? 'copyMonths' :
          id==='ageYearMonth' ? 'copyYearMonth' : 'copySemicolon'
        );
        const b=document.getElementById(btnId); const old=b.textContent; b.textContent='âœ…'; setTimeout(()=>b.textContent='ë³µì‚¬',1000);
      }).catch(()=>alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'))
    }

    // ì´ë²¤íŠ¸
    document.getElementById('calcBtn').addEventListener('click', ()=>{
      const dob=document.getElementById('dob').value; render(dob); setNow();
    });
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      document.getElementById('dob').value='';
      document.getElementById('ageMain').textContent='ë§Œ - ì„¸';
      document.getElementById('ageDetail').textContent='ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      document.getElementById('dday').textContent='-ì¼';
      document.getElementById('lived').textContent='-ì¼';
      document.getElementById('ageMonths').textContent='-ê°œì›”';
      document.getElementById('ageYearMonth').textContent='-ì„¸ -ê°œì›”';
      document.getElementById('ageSemicolon').textContent='-;-';
      writeQuery(''); setNow();
    });

    document.getElementById('copyAge').addEventListener('click', ()=>copyText('ageMain'));
    document.getElementById('copyMonths').addEventListener('click', ()=>copyText('ageMonths'));
    document.getElementById('copyYearMonth').addEventListener('click', ()=>copyText('ageYearMonth'));
    document.getElementById('copySemicolon').addEventListener('click', ()=>copyText('ageSemicolon'));

    document.getElementById('shareLink').addEventListener('click', (e)=>{
      e.preventDefault();
      navigator.clipboard.writeText(location.href).then(()=>{
        const el=e.currentTarget; const old=el.textContent; el.textContent='âœ… ë³µì‚¬ë¨'; setTimeout(()=>el.textContent=old,1200);
      }).catch(()=>alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì£¼ì†Œì°½ì˜ URLì„ ì§ì ‘ ë³µì‚¬í•´ì£¼ì„¸ìš”.'))
    });

    document.getElementById('year').textContent = new Date().getFullYear();

    // ì´ˆê¸°í™”
    (function init(){
      setNow();
      const q=readQuery();
      if(q.dob){ document.getElementById('dob').value=q.dob; render(q.dob); }
    })();
  </script>

  <!-- êµ¬ì¡°í™” ë°ì´í„°(SEO) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "ë§Œë‚˜ì´(ìƒí™œì—°ë ¹) ê³„ì‚°ê¸°",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "All",
    "url": "https://calc.example.com/age/",
    "inLanguage": "ko"
  }
  </script>
</body>
</html>
